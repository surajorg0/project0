import{a as P}from"./chunk-3SXZMY6E.js";import"./chunk-I7E6XKNE.js";import{B as z,C as Y,D as H,E as R,F as G,I as J,L as K,U as Q,e as A,ea as Z,g as L,h as V,i as N,j as F,l as W,n as X,p as j,q,v as B,x as D,y as U}from"./chunk-SIZ5UOEX.js";import{$ as s,A as h,C as w,G as I,J as u,K as n,L as i,M as c,Q as y,R as _,S as m,ca as C,da as b,db as k,ea as v,eb as E,ib as S,la as T,n as d,na as O,o as f,ua as M,y as p}from"./chunk-EELN6U27.js";import"./chunk-YTWACNKP.js";import"./chunk-OHCHZUC3.js";import"./chunk-ICNA3IQD.js";import"./chunk-BP2XPFHT.js";import"./chunk-SARY5JFI.js";import"./chunk-RODA7RWT.js";import"./chunk-ODME3OG3.js";import"./chunk-4U6PRYVA.js";import"./chunk-WBXTLIFG.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{i as g}from"./chunk-OYAVQN5W.js";function tt(r,l){if(r&1){let a=y();n(0,"div")(1,"ion-item")(2,"ion-label",12),s(3,"Phone Number"),i(),c(4,"br"),n(5,"ion-input",13),v("ngModelChange",function(t){d(a);let o=m();return b(o.phoneNumber,t)||(o.phoneNumber=t),f(t)}),i()(),n(6,"ion-button",14),_("click",function(){d(a);let t=m();return f(t.sendOtp())}),c(7,"ion-icon",15),s(8," Send OTP "),i()()}if(r&2){let a=m();p(5),C("ngModel",a.phoneNumber)}}function et(r,l){if(r&1){let a=y();n(0,"div",16)(1,"ion-item")(2,"ion-label",12),s(3,"OTP"),i(),c(4,"br"),n(5,"ion-input",17),v("ngModelChange",function(t){d(a);let o=m();return b(o.otp,t)||(o.otp=t),f(t)}),i()(),n(6,"div",18)(7,"ion-text",19),s(8,'For this demo, use "12345" as the OTP'),i()(),n(9,"ion-button",14),_("click",function(){d(a);let t=m();return f(t.verifyOtp())}),c(10,"ion-icon",20),s(11," Verify OTP "),i()()}if(r&2){let a=m();p(5),C("ngModel",a.otp)}}function nt(r,l){if(r&1){let a=y();n(0,"div",21)(1,"ion-text",19),s(2,"or"),i(),n(3,"ion-button",14),_("click",function(){d(a);let t=m();return f(t.loginWithFingerprint())}),c(4,"ion-icon",22),s(5," Login with Fingerprint "),i()()}}var gt=(()=>{let l=class l{constructor(e,t,o){this.router=e,this.toastController=t,this.animationCtrl=o,this.phoneNumber="",this.otp="",this.showOtpInput=!1,this.fingerprintAvailable=!1,G({call:J,lockClosed:Q,fingerPrint:K,sunny:Z})}ngOnInit(){return g(this,null,function*(){try{let e=yield P.isAvailable();this.fingerprintAvailable=e.isAvailable}catch(e){console.error("Error checking biometric availability:",e),this.fingerprintAvailable=!1}setTimeout(()=>{this.animateElements()},300)})}animateElements(){let e=document.querySelector(".sun-logo");e&&this.animationCtrl.create().addElement(e).duration(1200).iterations(1).keyframes([{offset:0,transform:"scale(0.2) rotate(0deg)",opacity:"0"},{offset:.5,transform:"scale(1.3) rotate(180deg)",opacity:"0.8"},{offset:1,transform:"scale(1) rotate(360deg)",opacity:"1"}]).play();let t=document.querySelector("ion-card");t&&this.animationCtrl.create().addElement(t).duration(800).iterations(1).keyframes([{offset:0,transform:"translateY(50px)",opacity:"0"},{offset:1,transform:"translateY(0)",opacity:"1"}]).play(),document.querySelectorAll("ion-button").forEach((x,$)=>{this.animationCtrl.create().addElement(x).duration(500).delay(800+100*$).iterations(1).keyframes([{offset:0,transform:"translateX(-20px)",opacity:"0"},{offset:1,transform:"translateX(0)",opacity:"1"}]).play()})}sendOtp(){if(!this.phoneNumber){this.presentToast("Please enter a phone number");return}this.showOtpInput=!0,this.presentToast("OTP sent to your phone"),setTimeout(()=>{let e=document.querySelector(".otp-container");e&&this.animationCtrl.create().addElement(e).duration(500).iterations(1).keyframes([{offset:0,transform:"translateY(20px)",opacity:"0"},{offset:1,transform:"translateY(0)",opacity:"1"}]).play()},100)}verifyOtp(){if(!this.otp){this.presentToast("Please enter the OTP");return}if(this.otp==="12345"){this.presentToast("Login successful");let e=document.querySelector("ion-card");e?(this.animationCtrl.create().addElement(e).duration(800).iterations(1).keyframes([{offset:0,transform:"scale(1)"},{offset:.5,transform:"scale(1.05)"},{offset:1,transform:"scale(0)",opacity:"0"}]).play(),setTimeout(()=>{this.router.navigate(["/home"],{replaceUrl:!0})},800)):this.router.navigate(["/home"],{replaceUrl:!0})}else{this.presentToast('Invalid OTP. For this demo, use "12345"');let e=document.querySelector('ion-input[type="text"]');e&&this.animationCtrl.create().addElement(e).duration(400).iterations(1).keyframes([{offset:0,transform:"translateX(0)"},{offset:.1,transform:"translateX(-10px)"},{offset:.3,transform:"translateX(10px)"},{offset:.5,transform:"translateX(-10px)"},{offset:.7,transform:"translateX(10px)"},{offset:.9,transform:"translateX(-10px)"},{offset:1,transform:"translateX(0)"}]).play()}}loginWithFingerprint(){return g(this,null,function*(){try{let e=yield P.verifyIdentity({reason:"Log in to Suraj App",title:"Biometric Authentication",subtitle:"Use your fingerprint to log in",description:"Authenticate using your fingerprint"});this.presentToast("Fingerprint authentication successful");let t=document.querySelector("ion-card");t?(this.animationCtrl.create().addElement(t).duration(800).iterations(1).keyframes([{offset:0,transform:"scale(1)"},{offset:.5,transform:"scale(1.05)"},{offset:1,transform:"scale(0)",opacity:"0"}]).play(),setTimeout(()=>{this.router.navigate(["/home"],{replaceUrl:!0})},800)):this.router.navigate(["/home"],{replaceUrl:!0})}catch(e){console.error("Error with fingerprint authentication:",e),this.presentToast("Fingerprint authentication failed")}})}presentToast(e){return g(this,null,function*(){(yield this.toastController.create({message:e,duration:2e3,position:"bottom",color:"primary"})).present()})}};l.\u0275fac=function(t){return new(t||l)(h(M),h(Y),h(z))},l.\u0275cmp=w({type:l,selectors:[["app-login"]],decls:18,vars:5,consts:[[3,"translucent"],["color","primary"],[1,"ion-padding",3,"fullscreen"],[1,"background-container"],[1,"star-dots"],[1,"login-container"],[1,"logo-container"],["name","sunny",1,"sun-logo"],[1,"ion-text-center"],[4,"ngIf"],["class","otp-container",4,"ngIf"],["class","ion-margin-top ion-text-center",4,"ngIf"],["position","floating"],["type","tel","placeholder","Enter your phone number",3,"ngModelChange","ngModel"],["expand","block",1,"ion-margin-top",3,"click"],["name","call","slot","start"],[1,"otp-container"],["type","text","placeholder","Enter the OTP",3,"ngModelChange","ngModel"],[1,"ion-text-center","ion-margin-top"],["color","medium"],["name","lockClosed","slot","start"],[1,"ion-margin-top","ion-text-center"],["name","fingerPrint","slot","start"]],template:function(t,o){t&1&&(n(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),s(3,"Suraj"),i()()(),n(4,"ion-content",2)(5,"div",3),c(6,"div",4),i(),n(7,"div",5)(8,"ion-card")(9,"div",6),c(10,"ion-icon",7),i(),n(11,"ion-card-header")(12,"ion-card-title",8),s(13,"Welcome to my app "),i()(),n(14,"ion-card-content"),I(15,tt,9,1,"div",9)(16,et,12,1,"div",10)(17,nt,6,0,"div",11),i()()()()),t&2&&(u("translucent",!0),p(4),u("fullscreen",!0),p(11),u("ngIf",!o.showOtpInput),p(),u("ngIf",o.showOtpInput),p(),u("ngIf",o.fingerprintAvailable))},dependencies:[O,T,S,k,E,W,X,D,U,L,N,F,V,j,q,R,A,H,B],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #9370DB, #6A5ACD)}.background-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:-1}.star-dots[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-image:radial-gradient(white 1px,transparent 1px);background-size:30px 30px;opacity:.3}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}ion-card[_ngcontent-%COMP%]{width:90%;max-width:400px;background:#ffffffe6;border-radius:10px;box-shadow:0 4px 12px #0003}ion-card-title[_ngcontent-%COMP%]{color:#6a5acd;font-size:24px;font-weight:700}ion-button[_ngcontent-%COMP%]{--background: #6A5ACD;--background-hover: #9370DB;margin-top:20px}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: #6A5ACD}ion-label[_ngcontent-%COMP%]{color:#6a5acd!important}ion-input[_ngcontent-%COMP%]{--color: #333}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:20px}.sun-logo[_ngcontent-%COMP%]{font-size:80px;color:orange;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}to{transform:scale(1);opacity:1}}@media (min-width: 768px){ion-card[_ngcontent-%COMP%]{width:60%}}"]});let r=l;return r})();export{gt as LoginPage};
